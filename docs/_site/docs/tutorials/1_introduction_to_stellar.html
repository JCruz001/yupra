<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/yupra/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/yupra/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(1)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(1) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(5) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(1) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list { display: block; } </style> <script src="/yupra/assets/js/vendor/lunr.min.js"></script> <script src="/yupra/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Intro to Stellar | YUPRA</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Intro to Stellar" /> <meta name="author" content="Jessica Birky" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="http://localhost:4000/yupra/docs/tutorials/1_introduction_to_stellar.html" /> <meta property="og:url" content="http://localhost:4000/yupra/docs/tutorials/1_introduction_to_stellar.html" /> <meta property="og:site_name" content="YUPRA" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Intro to Stellar" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Jessica Birky"},"headline":"Intro to Stellar","url":"http://localhost:4000/yupra/docs/tutorials/1_introduction_to_stellar.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/yupra/" class="site-title lh-tight"> YUPRA </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/yupra/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/yupra/docs/configuration.html" class="nav-list-link">Configuration</a></li><li class="nav-list-item"><a href="/yupra/docs/git_instructions.html" class="nav-list-link">Git Instructions</a></li><li class="nav-list-item"><a href="/yupra/docs/resources.html" class="nav-list-link">Resources</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tutorials category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/yupra/docs/tutorials" class="nav-list-link">Tutorials</a><ul class="nav-list"><li class="nav-list-item"><a href="/yupra/docs/tutorials/1_introduction_to_stellar.html" class="nav-list-link">1. Intro to Stellar</a></li><li class="nav-list-item"><a href="/yupra/docs/tutorials/2_parameter_sweeps_with_stellar.html" class="nav-list-link">2. Parameter sweeps</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search YUPRA" aria-label="Search YUPRA" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/yupra/docs/tutorials">Tutorials</a></li> <li class="breadcrumb-nav-list-item"><span>1. Intro to Stellar</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <p>Note: If you have not installed the packages <code class="language-plaintext highlighter-rouge">vplanet</code> and <code class="language-plaintext highlighter-rouge">vplanet_inference</code> you first need to install these.</p> <p>Import packages:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">vplanet</span>

<span class="kn">import</span> <span class="n">subprocess</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="n">astropy</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="n">matplotlib</span> <span class="kn">import</span> <span class="n">rcParams</span>
<span class="n">rcParams</span><span class="p">[</span><span class="sh">'</span><span class="s">font.family</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="sh">'</span><span class="s">stixgeneral</span><span class="sh">'</span>
<span class="n">rcParams</span><span class="p">[</span><span class="sh">'</span><span class="s">text.usetex</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span>
<span class="n">rcParams</span><span class="p">[</span><span class="sh">'</span><span class="s">xtick.labelsize</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">16</span>
<span class="n">rcParams</span><span class="p">[</span><span class="sh">'</span><span class="s">ytick.labelsize</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">16</span>
<span class="n">rcParams</span><span class="p">[</span><span class="sh">'</span><span class="s">axes.labelsize</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">16</span>

<span class="c1"># Create a directory to store our simulation configuration files
</span><span class="kn">import</span> <span class="n">os</span>
<span class="n">temp_dir</span> <span class="o">=</span> <span class="sh">"</span><span class="s">infile_templates</span><span class="sh">"</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">):</span>
  <span class="n">os</span><span class="p">.</span><span class="nf">mkdir</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
</code></pre></div></div> <h3 id="1-setting-up-infile-templates"> <a href="#1-setting-up-infile-templates" class="anchor-heading" aria-labelledby="1-setting-up-infile-templates"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. Setting up infile templates </h3> <p><code class="language-plaintext highlighter-rouge">VPLANET</code> operates using <code class="language-plaintext highlighter-rouge">infiles</code> which specify all of the parameters settings used in your simulation.</p> <p>For the case of modeling the stellar evolution of an individual star, we will have two files:</p> <ul> <li>vpl file <code class="language-plaintext highlighter-rouge">vpl.in</code> - configurations for the system (including numerical integration settings, output options, units, as well as system age)</li> <li>body file <code class="language-plaintext highlighter-rouge">star.in</code> - represents the star, sets the stellar parameters, and specifies which stellar models are used for stellar evolution (also magnetic braking, not shown in this case)</li> </ul> <p>To run <code class="language-plaintext highlighter-rouge">VPLANET</code> in python we’ll copy these <a href="https://github.com/VirtualPlanetaryLaboratory/vplanet/tree/main/examples/StellarEvol">infiles</a> to strings here (I’ve added some annotations for each of the variables):</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># System input file template
</span><span class="n">vpl_file</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">#
sSystemName               system
iVerbose                  0           # Verbosity level
bOverwrite                1           # Allow file overwrites?
saBodyFiles               star.in     # list infile names of all body files
bDoLog                    1           # Write a log file?
iDigits                   6           # Maximum number of digits to right of decimal
dMinValue                 1e-10       # Minimum value of eccentricity/obliquity
bDoForward                1           # Perform a forward evolution?
bVarDt                    1           # Use variable timestepping?
dEta                      0.01        # Coefficient for variable timestepping

# Input/Output Units
# Units specified in the primary input file are propagated into the bodies
sUnitMass                 solar       # Options: gram, kg, Earth, Neptune, Jupiter, solar
sUnitLength               m           # Options: cm, m, km, Earth, Jupiter, solar, AU
sUnitTime                 year        # Options: sec, day, year, Myr, Gyr
sUnitAngle                deg         # Options: deg, rad

dStopTime                 1.0e9       # Final age which the system will be evolved to [sUnitTime]
dOutputTime               1.0e6       # Output timesteps (finer timesteps will take longer) [sUnitTime]
</span><span class="sh">"""</span>

<span class="c1"># Star input file template
</span><span class="n">body_file</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">#
sName                     star        # body name
saModules                 stellar     # VPLanet module(s) used
sStellarModel             baraffe     # stellar model grid (currently only baraffe+2015 grids)
dMass                     1.0         # stellar mass [sUnitMass]
dAge                      5e6         # age at which stellar grids are initialized (age we assume star has formed) [sUnitTime]

# output evolution parameters
saOutputOrder Time Luminosity Radius Temperature
</span><span class="sh">"""</span>
</code></pre></div></div> <p>Now let’s save these infiles to our folder <code class="language-plaintext highlighter-rouge">infile_templates/stellar/baraffe</code>:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Create subdirectory stellar/baraffe to save this example
</span><span class="n">example_baraffe</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">,</span> <span class="sh">"</span><span class="s">stellar/baraffe</span><span class="sh">"</span><span class="p">)</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="n">example_baraffe</span><span class="p">):</span>
  <span class="n">os</span><span class="p">.</span><span class="nf">makedirs</span><span class="p">(</span><span class="n">example_baraffe</span><span class="p">)</span>

<span class="c1"># Write vpl_file to vpl.in
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">example_baraffe</span><span class="p">,</span> <span class="sh">"</span><span class="s">vpl.in</span><span class="sh">"</span><span class="p">),</span> <span class="sh">"</span><span class="s">w</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">vpl_file</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="nb">file</span><span class="p">)</span>

<span class="c1"># Write body_file to star.in
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">example_baraffe</span><span class="p">,</span> <span class="sh">"</span><span class="s">star.in</span><span class="sh">"</span><span class="p">),</span> <span class="sh">"</span><span class="s">w</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">body_file</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="nb">file</span><span class="p">)</span>
</code></pre></div></div> <h3 id="2-running-simulations-through-command-line"> <a href="#2-running-simulations-through-command-line" class="anchor-heading" aria-labelledby="2-running-simulations-through-command-line"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Running simulations through command line </h3> <p>This model can be run through command line by executing <code class="language-plaintext highlighter-rouge">vplanet vpl.in</code> in the directory where we saved the infiles:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">subprocess</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span><span class="sh">"</span><span class="s">vplanet vpl.in</span><span class="sh">"</span><span class="p">,</span> <span class="n">cwd</span><span class="o">=</span><span class="n">example_baraffe</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div> <p><strong>Plotting results</strong>: In our body file we specified that we wanted <code class="language-plaintext highlighter-rouge">vplanet</code> to track the evolution of the following parameters:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>saOutputOrder Time Luminosity Radius Temperature
</code></pre></div></div> <p>We can make a quick plot of these output variables using the <code class="language-plaintext highlighter-rouge">auto_plot</code> function of the package <code class="language-plaintext highlighter-rouge">vplot</code>:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">vplot</span> <span class="k">as</span> <span class="n">vpl</span>
<span class="n">vpl</span><span class="p">.</span><span class="nf">auto_plot</span><span class="p">(</span><span class="n">example_baraffe</span><span class="p">)</span>
</code></pre></div></div> <p><img src="1_introduction_to_stellar_files/1_introduction_to_stellar_14_1.png" alt="png" /></p> <p><img src="1_introduction_to_stellar_files/1_introduction_to_stellar_14_2.png" alt="png" /></p> <p><img src="1_introduction_to_stellar_files/1_introduction_to_stellar_14_3.png" alt="png" /></p> <p>We can retrieve and manipulate the outputs using the <code class="language-plaintext highlighter-rouge">vplanet</code> function <code class="language-plaintext highlighter-rouge">get_output</code>. The returned arrays will be in the same order as we specified in the <code class="language-plaintext highlighter-rouge">saOutputOrder</code> of our body file (<code class="language-plaintext highlighter-rouge">star.in</code>)</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">output</span> <span class="o">=</span> <span class="n">vplanet</span><span class="p">.</span><span class="nf">get_output</span><span class="p">(</span><span class="n">example_baraffe</span><span class="p">)</span>
<span class="n">output</span><span class="p">.</span><span class="n">star</span><span class="p">[:]</span>
</code></pre></div></div> <p>We can convert the units of our output arrays using astropy units, for example:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sim_time</span> <span class="o">=</span> <span class="n">output</span><span class="p">.</span><span class="n">star</span><span class="p">[:][</span><span class="mi">0</span><span class="p">].</span><span class="nf">to</span><span class="p">(</span><span class="n">u</span><span class="p">.</span><span class="n">yr</span><span class="p">)</span>
<span class="n">sim_luminosity</span> <span class="o">=</span> <span class="n">output</span><span class="p">.</span><span class="n">star</span><span class="p">[:][</span><span class="mi">1</span><span class="p">].</span><span class="nf">to</span><span class="p">(</span><span class="n">u</span><span class="p">.</span><span class="n">Lsun</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">sim_time</span><span class="p">,</span> <span class="n">sim_luminosity</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Luminosity [Lsun]</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Time [yr]</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xscale</span><span class="p">(</span><span class="sh">"</span><span class="s">log</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">yscale</span><span class="p">(</span><span class="sh">"</span><span class="s">log</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <p><img src="1_introduction_to_stellar_files/1_introduction_to_stellar_19_1.png" alt="png" /></p> <h3 id="3-how-to-add-input-variables-and-output-variables"> <a href="#3-how-to-add-input-variables-and-output-variables" class="anchor-heading" aria-labelledby="3-how-to-add-input-variables-and-output-variables"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. How to add input variables and output variables </h3> <p><strong>[Part A]</strong> say we also want to model the XUV luminosity of our star.</p> <p><code class="language-plaintext highlighter-rouge">vplanet</code> includes the Ribas+2005 empirical model for XUV evolution of low-mass, which is parameterized by a broken power law: \begin{align} \frac{L_{\rm XUV}}{L_{\rm bol}} = \left{ \begin{array}{lcr} f_\mathrm{sat} &amp;\ &amp; t \leq t_\mathrm{sat} <br /> f_\mathrm{sat}\left(\frac{t}{t_\mathrm{sat}}\right)^{-\beta_\mathrm{XUV}} &amp;\ &amp; t &gt; t_\mathrm{sat} \end{array} \right. \end{align} This model assumes that young (more active) stars exhibit a “saturated” level of XUV luminosity relative to bolometric (total luminosity), which then decays exponentially over time, after a “saturation time”. Here $L_{\rm bol}$ is the bolometric luminosity [$L_\odot$], $L_{\rm XUV}$ is the XUV luminosity [$L_\odot$], $f_\mathrm{sat} = \log_{10}(L_{\rm XUV}/L_{\rm bol})$ is the saturation ratio, $t_\mathrm{sat}$ is the duration of saturation phase [Gyr], $\beta_\mathrm{XUV}$ is the exponential decay rate of $L_{\rm XUV}$ after saturation, and $t$ is the evolution time [Gyr].</p> <p>To have <code class="language-plaintext highlighter-rouge">vplanet</code> compute the XUV lumiosity evolution using this model, we’ll add the following input variables to our body infiles (since they are properties of the star, they will go in <code class="language-plaintext highlighter-rouge">star.in</code>):</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dSatXUVFrac            
dSatXUVTime              
dXUVBeta   
</code></pre></div></div> <p>And we will also add the following variable to our output variables in <code class="language-plaintext highlighter-rouge">saOutputOrder</code>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LXUVTot
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># System input file template
</span><span class="n">vpl_file</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">#
sSystemName               system
iVerbose                  0           # Verbosity level
bOverwrite                1           # Allow file overwrites?
saBodyFiles               star.in     # list infile names of all body files
bDoLog                    1           # Write a log file?
iDigits                   6           # Maximum number of digits to right of decimal
dMinValue                 1e-10       # Minimum value of eccentricity/obliquity
bDoForward                1           # Perform a forward evolution?
bVarDt                    1           # Use variable timestepping?
dEta                      0.01        # Coefficient for variable timestepping

# Input/Output Units
# Units specified in the primary input file are propagated into the bodies
sUnitMass                 solar       # Options: gram, kg, Earth, Neptune, Jupiter, solar
sUnitLength               m           # Options: cm, m, km, Earth, Jupiter, solar, AU
sUnitTime                 year        # Options: sec, day, year, Myr, Gyr
sUnitAngle                deg         # Options: deg, rad

dStopTime                 1.0e9       # Final age which the system will be evolved to [sUnitTime]
dOutputTime               1.0e6       # Output timesteps (finer timesteps will take longer) [sUnitTime]
</span><span class="sh">"""</span>

<span class="c1"># Star input file template
</span><span class="n">body_file</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">#
sName                     star        # body name
saModules                 stellar     # VPLanet module(s) used
sStellarModel             baraffe     # stellar model grid (currently only baraffe+2015 grids)
dMass                     1.0         # stellar mass [sUnitMass]
dAge                      5e6         # age at which stellar grids are initialized (age we assume star has formed) [sUnitTime]

dSatXUVFrac               1.0e-3      # fsat = initial Lxuv / Lbol [dimensionless ratio]
dSatXUVTime               1.0e8       # tsat = saturation time [sUnitTime]
dXUVBeta                  1.0         # beta = exponential decay rate [dimensionless]

# output evolution parameters
saOutputOrder Time Luminosity Radius Temperature LXUVTot
</span><span class="sh">"""</span>
</code></pre></div></div> <p>We can now execute this model as before, and plot our new output variable:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Create subdirectory stellar/baraffe to save this example
</span><span class="n">example_baraffe_ribas</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">,</span> <span class="sh">"</span><span class="s">stellar/baraffe_ribas</span><span class="sh">"</span><span class="p">)</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="n">example_baraffe_ribas</span><span class="p">):</span>
  <span class="n">os</span><span class="p">.</span><span class="nf">makedirs</span><span class="p">(</span><span class="n">example_baraffe_ribas</span><span class="p">)</span>

<span class="c1"># Write vpl_file to vpl.in
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">example_baraffe_ribas</span><span class="p">,</span> <span class="sh">"</span><span class="s">vpl.in</span><span class="sh">"</span><span class="p">),</span> <span class="sh">"</span><span class="s">w</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">vpl_file</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="nb">file</span><span class="p">)</span>

<span class="c1"># Write body_file to star.in
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">example_baraffe_ribas</span><span class="p">,</span> <span class="sh">"</span><span class="s">star.in</span><span class="sh">"</span><span class="p">),</span> <span class="sh">"</span><span class="s">w</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">body_file</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="nb">file</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">subprocess</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span><span class="sh">"</span><span class="s">vplanet vpl.in</span><span class="sh">"</span><span class="p">,</span> <span class="n">cwd</span><span class="o">=</span><span class="n">example_baraffe_ribas</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">output</span> <span class="o">=</span> <span class="n">vplanet</span><span class="p">.</span><span class="nf">get_output</span><span class="p">(</span><span class="n">example_baraffe_ribas</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">output</span><span class="p">.</span><span class="n">star</span><span class="p">[:][</span><span class="mi">0</span><span class="p">],</span> <span class="n">output</span><span class="p">.</span><span class="n">star</span><span class="p">[:][</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">"</span><span class="s">XUV Luminosity [Lsun]</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Time [yr]</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xscale</span><span class="p">(</span><span class="sh">"</span><span class="s">log</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">yscale</span><span class="p">(</span><span class="sh">"</span><span class="s">log</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <p><img src="1_introduction_to_stellar_files/1_introduction_to_stellar_25_1.png" alt="png" /></p> <p><strong>[Part B]</strong> say we also want to model the rotational evolution of our star according to gyrochrnology models.</p> <p><code class="language-plaintext highlighter-rouge">vplanet</code> includes several implementations of magnetic braking laws which govern the rotational evolution of the star:</p> <ul> <li><a href="https://ui.adsabs.harvard.edu/abs/2012ApJ...746...43R/abstract">Reiners &amp; Mohanty [2012]</a></li> <li><a href="https://ui.adsabs.harvard.edu/abs/2014MNRAS.444..542R/abstract&gt;">Repetto &amp; Nelemans [2014]</a></li> <li><a href="https://ui.adsabs.harvard.edu/abs/2015ApJ...799L..23M/abstract">Matt et al. [2015]</a></li> </ul> <p>To add a magnetic braking model to our simulation we will add the following inputs:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sMagBrakingModel
dRotPeriod
</code></pre></div></div> <p>where the variable <code class="language-plaintext highlighter-rouge">sMagBrakingModel</code> specifies which magnetic braking model to use (options: <code class="language-plaintext highlighter-rouge">matt</code>, <code class="language-plaintext highlighter-rouge">reiners</code>, <code class="language-plaintext highlighter-rouge">skumanich</code>), and the variable <code class="language-plaintext highlighter-rouge">dRotPeriod</code> specifies the initial condition rotation period of the star. In this example we’ll set the initial rotation period to 10 days (or 0.027378508 years since that’s the unit we’ve set for <code class="language-plaintext highlighter-rouge">sUnitTime</code>).</p> <p>We will also add the output variable</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RotPer
</code></pre></div></div> <p>so that we can track the rotation period evolution.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># System input file template
</span><span class="n">vpl_file</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">#
sSystemName               system
iVerbose                  0           # Verbosity level
bOverwrite                1           # Allow file overwrites?
saBodyFiles               star.in     # list infile names of all body files
bDoLog                    1           # Write a log file?
iDigits                   6           # Maximum number of digits to right of decimal
dMinValue                 1e-10       # Minimum value of eccentricity/obliquity
bDoForward                1           # Perform a forward evolution?
bVarDt                    1           # Use variable timestepping?
dEta                      0.01        # Coefficient for variable timestepping

# Input/Output Units
# Units specified in the primary input file are propagated into the bodies
sUnitMass                 solar       # Options: gram, kg, Earth, Neptune, Jupiter, solar
sUnitLength               m           # Options: cm, m, km, Earth, Jupiter, solar, AU
sUnitTime                 year        # Options: sec, day, year, Myr, Gyr
sUnitAngle                deg         # Options: deg, rad

dStopTime                 1.0e9       # Final age which the system will be evolved to [sUnitTime]
dOutputTime               1.0e6       # Output timesteps (finer timesteps will take longer) [sUnitTime]
</span><span class="sh">"""</span>

<span class="c1"># Star input file template
</span><span class="n">body_file</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">#
sName                     star        # body name
saModules                 stellar     # VPLanet module(s) used
sStellarModel             baraffe     # stellar model grid (currently only baraffe+2015 grids)
sMagBrakingModel          matt        # magnetic braking model (opt: matt, reiners, skumanich)
dMass                     1.0         # stellar mass [sUnitMass]
dAge                      5e6         # age at which stellar grids are initialized (age we assume star has formed) [sUnitTime]

dSatXUVFrac               1.0e-3      # fsat = initial Lxuv / Lbol [dimensionless ratio]
dSatXUVTime               1.0e8       # tsat = saturation time [sUnitTime]
dXUVBeta                  1.0         # beta = exponential decay rate [dimensionless]

dRotPeriod                0.027378508 # initial rotation period [sUnitTime]

# output evolution parameters
saOutputOrder Time Luminosity Radius Temperature LXUVTot RotPer
</span><span class="sh">"""</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Create subdirectory stellar/baraffe to save this example
</span><span class="n">example_baraffe_ribas_matt</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">,</span> <span class="sh">"</span><span class="s">stellar/baraffe_ribas_matt</span><span class="sh">"</span><span class="p">)</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="n">example_baraffe_ribas_matt</span><span class="p">):</span>
  <span class="n">os</span><span class="p">.</span><span class="nf">makedirs</span><span class="p">(</span><span class="n">example_baraffe_ribas_matt</span><span class="p">)</span>

<span class="c1"># Write vpl_file to vpl.in
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">example_baraffe_ribas_matt</span><span class="p">,</span> <span class="sh">"</span><span class="s">vpl.in</span><span class="sh">"</span><span class="p">),</span> <span class="sh">"</span><span class="s">w</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">vpl_file</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="nb">file</span><span class="p">)</span>

<span class="c1"># Write body_file to star.in
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">example_baraffe_ribas_matt</span><span class="p">,</span> <span class="sh">"</span><span class="s">star.in</span><span class="sh">"</span><span class="p">),</span> <span class="sh">"</span><span class="s">w</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">body_file</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="nb">file</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">subprocess</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span><span class="sh">"</span><span class="s">vplanet vpl.in</span><span class="sh">"</span><span class="p">,</span> <span class="n">cwd</span><span class="o">=</span><span class="n">example_baraffe_ribas_matt</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">output</span> <span class="o">=</span> <span class="n">vplanet</span><span class="p">.</span><span class="nf">get_output</span><span class="p">(</span><span class="n">example_baraffe_ribas_matt</span><span class="p">)</span>

<span class="n">sim_time</span> <span class="o">=</span> <span class="n">output</span><span class="p">.</span><span class="n">star</span><span class="p">[:][</span><span class="mi">0</span><span class="p">].</span><span class="nf">to</span><span class="p">(</span><span class="n">u</span><span class="p">.</span><span class="n">yr</span><span class="p">)</span>
<span class="n">sim_prot</span> <span class="o">=</span> <span class="n">output</span><span class="p">.</span><span class="n">star</span><span class="p">[:][</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nf">to</span><span class="p">(</span><span class="n">u</span><span class="p">.</span><span class="n">day</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">sim_time</span><span class="p">,</span> <span class="n">sim_prot</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Rotation Period [days]</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Time [yr]</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xscale</span><span class="p">(</span><span class="sh">"</span><span class="s">log</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <p><img src="1_introduction_to_stellar_files/1_introduction_to_stellar_30_1.png" alt="png" /></p> <h3 id="4-varying-simulation-parameters-manually"> <a href="#4-varying-simulation-parameters-manually" class="anchor-heading" aria-labelledby="4-varying-simulation-parameters-manually"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Varying simulation parameters (manually) </h3> <p>Repeat step 3, this time experimenting with different values of input parameters:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dMass
dAge
dSatXUVFrac            
dSatXUVTime              
dXUVBeta  
dRotPeriod
</code></pre></div></div> <p>Also see what output parameters you can add to <code class="language-plaintext highlighter-rouge">saOutputOrder</code>. For a description of available output options for each <code class="language-plaintext highlighter-rouge">vplanet</code> model, see the <a href="https://virtualplanetarylaboratory.github.io/vplanet/help.html">documentation here</a>. You can also open up the log file for one of the simulations we’ve run, which should show a list of variables like this. For example, the file <code class="language-plaintext highlighter-rouge">infile_templates/stellar/baraffe_ribas/system.log</code> should contain a list that looks something like this:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---- FINAL SYSTEM PROPERTIES ----
(Age) System Age [sec]: 3.171539e+16
(Time) Simulation Time [sec]: 3.155760e+16
(TotAngMom) Total Angular Momentum [kg*m^2/sec]: 2.906215e+43
(TotEnergy) Total System Energy [kg*m^2/sec^2]: -1.576439e+41
(PotEnergy) Body's non-orbital Potential Energy [kg*m^2/sec^2]: -2.465543e+41
(KinEnergy) Body's non-orbital Kinetic Energy [kg*m^2/sec^2]: 2.374104e+35
(DeltaTime) Average Timestep Over Last Output Interval [sec]: 2.979043e+08

----- BODY: star ----
Active Modules: STELLAR
Module Bit Sum: 65
Color: 000000
(Mass) Mass [kg]: 1.988416e+30
(Radius) Radius [m]: 6.421812e+08
(RadGyra) Radius of Gyration/Moment of Inertia Constant []: 0.290802
(RotAngMom) Rotational Angular Momentum [kg*m^2/sec]: 1.814568e+41
(RotVel) Rotational Velocity [m/sec]: 1680.405360
(BodyType) Type of Body (0 == planet) []: 0.000000
(RotRate) Rotational Frequency [/sec]: 2.616715e-06
(RotPer) Rotational Period [sec]: 2.401173e+06
(Density) Average Density [kg/m^3]: 1792.445051
(HZLimitDryRunaway) Semi-major axis of Dry Runaway HZ Limit [m]: 1.175737e+11
(HZLimRecVenus) Recent Venus HZ Limit [m]: 9.761750e+10
(HZLimRunaway) Runaway Greenhouse HZ Limit [m]: 1.279327e+11
(HZLimMoistGreenhouse) Moist Greenhouse HZ Limit [m]: 1.291631e+11
(HZLimMaxGreenhouse) Maximum Greenhouse HZ Limit [m]: 2.207654e+11
(HZLimEarlyMars) Early Mars HZ Limit [m]: 2.408656e+11
(Instellation) Orbit-averaged INcident STELLar radiATION [kg*m^2/sec^2/(m^2*sec)]: -1.000000
(CriticalSemiMajorAxis) Holman &amp; Wiegert (1999) P-type Critical Semi-major Axis [m]: -1.000000
(LXUVTot) Total XUV Luminosity [kg*m^2/sec^2/(m^2*sec)]: 2.869274e+22
(LostEnergy) Body's Total Lost Energy [kg*m^2/sec^2]: 8.891018e+40
(LostAngMom) Lost Angular Momentum due to Magnetic Braking [kg*m^2/sec]: 2.888069e+43
----- STELLAR PARAMETERS (star)------
(Luminosity) Luminosity [kg*m^2/sec^3]: 2.883620e+26
(LXUVStellar) Base X-ray/XUV Luminosity [kg*m^2/sec^3]: 2.869274e+22
(Temperature) Effective Temperature [K]: 5591.929944
(LXUVFrac) Fraction of luminosity in XUV []: 9.950249e-05
(RossbyNumber) Rossby Number []: 1.774299
(DRotPerDtStellar) Time Rate of Change of Rotation Period in STELLAR []: 2.092177e-11
Output Order: Time[year] Luminosity[Msun*m^2/year^3] Radius[m] Temperature[K] LXUVTot[Msun*m^2/year^2/(m^2*year)]
Grid Output Order:
</code></pre></div></div> <p>Parameters listed in parenthesis can be added to the <code class="language-plaintext highlighter-rouge">saOutputOrder</code>.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># System input file template
</span><span class="n">vpl_file</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">#
sSystemName               system
iVerbose                  0           # Verbosity level
bOverwrite                1           # Allow file overwrites?
saBodyFiles               star.in     # list infile names of all body files
bDoLog                    1           # Write a log file?
iDigits                   6           # Maximum number of digits to right of decimal
dMinValue                 1e-10       # Minimum value of eccentricity/obliquity
bDoForward                1           # Perform a forward evolution?
bVarDt                    1           # Use variable timestepping?
dEta                      0.01        # Coefficient for variable timestepping

# Input/Output Units
# Units specified in the primary input file are propagated into the bodies
sUnitMass                 solar       # Options: gram, kg, Earth, Neptune, Jupiter, solar
sUnitLength               m           # Options: cm, m, km, Earth, Jupiter, solar, AU
sUnitTime                 year        # Options: sec, day, year, Myr, Gyr
sUnitAngle                deg         # Options: deg, rad

dStopTime                 1.0e9       # Final age which the system will be evolved to [sUnitTime]
dOutputTime               1.0e6       # Output timesteps (finer timesteps will take longer) [sUnitTime]
</span><span class="sh">"""</span>

<span class="c1"># Star input file template
</span><span class="n">body_file</span> <span class="o">=</span> <span class="sh">"""</span><span class="s">#
sName                     star        # body name
saModules                 stellar     # VPLanet module(s) used
sStellarModel             baraffe     # stellar model grid (currently only baraffe+2015 grids)
sMagBrakingModel          matt        # magnetic braking model (opt: matt, reiners, skumanich)
dMass                     1.0         # stellar mass [sUnitMass]
dAge                      5e6         # age at which stellar grids are initialized (age we assume star has formed) [sUnitTime]

dSatXUVFrac               1.0e-3      # fsat = initial Lxuv / Lbol [dimensionless ratio]
dSatXUVTime               1.0e8       # tsat = saturation time [sUnitTime]
dXUVBeta                  1.0         # beta = exponential decay rate [dimensionless]

dRotPeriod                0.027378508 # initial rotation period [sUnitTime]

# output evolution parameters
saOutputOrder Time Luminosity Radius Temperature LXUVTot RotPer
</span><span class="sh">"""</span>
</code></pre></div></div> <p><strong>Task</strong>: make modifications to the template above by subsituting different input parameter values, then execute and plot your results. Also try comparing different simulations in the same plot!</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">your</span> <span class="n">code</span> <span class="n">goes</span> <span class="n">here</span><span class="p">...]</span>
</code></pre></div></div> <p><strong>Task</strong>: How does the “habitable zone” vary around stars of different masses? See what this looks like for different planetary conditions from <a href="https://iopscience.iop.org/article/10.1088/0004-637X/765/2/131/meta">Kopparapu+2013</a> by adding these variables to your <code class="language-plaintext highlighter-rouge">saOutputOrder</code>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HZLimitDryRunaway
HZLimRecVenus
HZLimRunaway
HZLimMoistGreenhouse
HZLimMaxGreenhouse
HZLimEarlyMars  
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">your</span> <span class="n">code</span> <span class="n">goes</span> <span class="n">here</span><span class="p">...]</span>
</code></pre></div></div> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
